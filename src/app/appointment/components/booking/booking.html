<section class="pt-5 pb-5">
  <div class="container">
    <div class="row row-cols-1 row-cols-md-3">
      <div class="col-md-12 mb-4">
        <div class="card h-100 box-shadow-md border-none position-relative">
          <div class="video-play">
            <iframe
              width="100%"
              height="100%"
              [src]="urlYoutube"
              frameborder="0"
              allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen
            ></iframe>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-md-4" [ngClass]="{'pr-0': !rtl, 'pl-0': rtl}">
                <div class="profile-card">
                  <div class="row row-cols-2">
                    <div class="col-md-6">
                      <div class="profile mt-n5 text-center rtxt-left">
                        <img src="{{tutor.avatarUrl}}" class="profile-lg box-shadow-lg" alt="" />
                      </div>
                    </div>
                    <div class="col-md-6 ml-n2" [ngClass]="{'text-left': !rtl, 'text-right': rtl}">
                      <div class="mt-3">
                        <h5 class="font-weight-bold">
                          {{tutor.name}}<i
                            class="fas fa-check-circle color-blue font-sm"
                            [ngClass]="{'ml-1': !rtl, 'mr-1': rtl}"
                          ></i>
                        </h5>
                        <div class="rating-stars">
                          <ul id="stars">
                            <star-rating [rate]="tutor.ratingAvg"></star-rating>
                            <span>{{tutor?.ratingAvg}} ({{tutor?.totalRating}})</span>
                          </ul>
                        </div>
                        <div class="">
                          <div class="img-flag-tutor">
                            <img
                              src="{{tutor?.country?.flag}}"
                              alt=""
                              class="image-sm"
                              onerror="this.src='/assets/images/no-image.jpg'"
                            />
                          </div>
                          <span [ngClass]="{'ml-2': !rtl, 'mr-2': rtl}" class="text-secondary" translate
                            >{{tutor?.country?.name || 'Updating'}}</span
                          >
                        </div>
                        <h5 class="mt-3 text-line-break">{{languageNames.join(', ')}}</h5>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row mt-3">
                  <div class="col-md-12" [ngClass]="{'text-left': !rtl, 'text-right': rtl}">
                    <send-message-btn [recipientId]="tutor._id" [rtl]="rtl"></send-message-btn>
                    <a
                      class="btn btn-white"
                      [ngClass]="{ 'mr-2': rtl, 'ml-2': !rtl}"
                      *ngIf="!tutor.isFavorite"
                      (click)="favorite()"
                    >
                      <i class="far fa-heart color-light-red"></i>
                    </a>
                    <a
                      class="btn btn-white"
                      [ngClass]="{ 'mr-2': rtl, 'ml-2': !rtl}"
                      *ngIf="tutor.isFavorite"
                      (click)="unFavorite()"
                    >
                      <i class="fas fa-heart color-light-red"></i>
                    </a>
                  </div>
                </div>
              </div>
              <div class="col-md-8 mt-2 rmt-4" [ngClass]="{'text-left': !rtl, 'text-right': rtl}">
                <h4 translate>About Me</h4>
                <p class="card-text" [innerHTML]="tutor.bio | ellipsis: showChar" [hidden]="!showChar"></p>
                <p class="card-text" [innerHTML]="tutor.bio" [hidden]="showChar"></p>
                <a href="javascript:void(0)" class="morelink" *ngIf="showMore && showChar > 0" (click)="showChar = 0"
                  ><span translate>Read More</span>...</a
                >
                <a href="javascript:void(0)" class="morelink" *ngIf="showMore && !showChar" (click)="showChar = 500"
                  >...<span translate>Read Less</span></a
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<section class="pb-100">
  <div class="container">
    <div class="row mb-3" style="justify-content: space-around">
      <div class="col-md-12 d-flex align-items-center justify-content-center classes">
        <div class="d-flex justify-content-end">
          <label class="custom-checkbox mr-4 font-md" [ngClass]="{'mr-4': !rtl, 'ml-4': rtl}" translate
            ><span translate>Paid Class</span>
            <input type="radio" selected name="type" [(ngModel)]="booking.isFree" [value]="false" />
            <span class="checkmark"></span>
          </label>
          <label class="custom-checkbox font-md"
            ><span translate>Free Class</span>
            <input type="radio" name="type" [(ngModel)]="booking.isFree" [value]="true" [disabled]="appliedCoupon" />
            <span class="checkmark"></span>
          </label>
        </div>
      </div>

      <p class="mt-2" [hidden]="!booking.isFree" style="color: grey">
        <span translate>The maximum number of free trial classes you can take is</span> {{maxFreeSlotToBook}}
      </p>
    </div>
    <div class="row step-to-booking mb-2 text-left">
      <div class="col-md-4 d-flex align-items-center justify-content-center flex-direction-column">
        <h5 translate>Step 1</h5>
        <select class="custom-select" [(ngModel)]="selectedCategoryId" (change)="selectMyCategory()">
          <option selected value="" translate>Select Category</option>
          <option *ngFor="let cat of myCategories" [value]="cat._id" translate>{{cat.name}}</option>
        </select>
      </div>
      <div class="col-md-4 d-flex align-items-center justify-content-center flex-direction-column">
        <h5 translate>Step 2</h5>
        <select class="custom-select" [(ngModel)]="selectedSubjectId" (change)="selectMySubject()">
          <option selected value="" translate>Select Subject</option>
          <option *ngFor="let subject of mySubjects" [value]="subject._id" translate>{{subject.name}}</option>
        </select>
      </div>
      <div class="col-md-4 d-flex align-items-center justify-content-center flex-direction-column">
        <h5 translate>Step 3</h5>
        <div class="step-3">
          <select class="custom-select mr-1" [(ngModel)]="booking.targetId" (change)="changeTopic()">
            <option selected value="" translate>Select Topic</option>
            <option *ngFor="let topic of myTopics" [value]="topic._id" translate>{{topic.name}}</option>
          </select>
          <p class="slot-btn mb-0 d-inline-block" *ngIf="!appliedCoupon&&!booking.isFree">
            {{config?.currencySymbol ? config?.currencySymbol + '' : '$'}}{{price}}/<span translate>Slot</span>
          </p>
          <p class="slot-btn mb-0 d-inline-block" *ngIf="appliedCoupon&&!booking.isFree">
            <small class="text-line-through mr-1">
              {{config?.currencySymbol ? config?.currencySymbol + '' : '$'}}{{price}}</small
            >
            {{config?.currencySymbol ? config?.currencySymbol + '' : '$'}}{{salePrice ? salePrice : 0}}/<span translate
              >Slot</span
            >
          </p>
        </div>
      </div>
      <div class="col-md-12 d-flex justify-content-center">
        <div class="mt-3">
          <app-apply-coupon
            *ngIf="coupon && coupon._id && !booking.isFree"
            [options]="optionsCoupon"
            (onApply)="applyCoupon($event)"
            (isUsed)="checkUsedCoupon($event)"
          ></app-apply-coupon>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <div class="container">
        <div class="card-horizontal">
          <div class="text-center">
            <h3 class="font-weight-bold mb-0" translate>Schedule</h3>
            <p class="font-md mb-0 text-secondary" translate>All times listed are in your local timezone</p>
          </div>
          <app-tutor-available-time
            [tutorId]="tutor._id"
            [isFree]="booking.isFree"
            (onSelect)="chooseSlot($event)"
          ></app-tutor-available-time>
        </div>
      </div>
    </div>
  </div>
</section>
<div class="pb-100">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="row">
          <div class="col-md-12 mb-4" [ngClass]="{'text-left': !rtl, 'text-right': rtl}">
            <h3 translate>Group Classes</h3>
            <p *ngIf="webinarOptions.count==0" translate>There is no results</p>
          </div>
        </div>
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-2 row-cols-lg-3">
          <app-card-webinar
            *ngFor="let webinar of webinarOptions.webinars"
            [webinar]="webinar"
            [hidden]="!webinarOptions.webinars.length"
            class="col-md-4 mb-4"
          ></app-card-webinar>
        </div>
        <div class="row mt-3">
          <div class="col-md-12 text-center" *ngIf="webinarOptions.count>1">
            <ngb-pagination
              [collectionSize]="webinarOptions.count"
              [(page)]="webinarOptions.currentPage"
              [pageSize]="webinarOptions.pageSize"
              [maxSize]="5"
              (pageChange)="queryWebinar()"
              class="card-pagination pagination"
            >
            </ngb-pagination>
          </div>
        </div>
      </div>
      <div class="col-md-12 mt-5">
        <div class="row">
          <div class="col-md-12 mb-4" [ngClass]="{'text-left': !rtl, 'text-right': rtl}">
            <h3 translate>Tutor Courses</h3>
            <p *ngIf="courseOptions.count==0" translate>There is no results</p>
          </div>
        </div>
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-2 row-cols-lg-3">
          <app-card-course
            *ngFor="let course of courseOptions.courses"
            [course]="course"
            [hidden]="!courseOptions.courses.length"
            class="col-md-4 mb-4"
          ></app-card-course>
        </div>
        <div class="row mt-3">
          <div class="col-md-12 text-center" *ngIf="courseOptions.count>1">
            <ngb-pagination
              [collectionSize]="courseOptions.count"
              [(page)]="courseOptions.currentPage"
              [pageSize]="courseOptions.pageSize"
              [maxSize]="5"
              (pageChange)="queryCourse()"
              class="card-pagination pagination"
            >
            </ngb-pagination>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
